---
import SkillIcon from './SkillIcon.astro';

interface Props {
  item: {
    title: string;
    description: string;
    image: string;
    url: string;
    github?: string;
    tech: {
      icon: string;
      colored: boolean;
    }[];
  };
}

const { item } = Astro.props;
---

<li class='project'>
  <a href={item.url} target='_blank'>
    <img src={item.image} alt={`${item.title} project screenshot`} />
  </a>
  <div class='project-info'>
    <h3>{item.title}</h3>
    <p>{item.description}</p>
    <ul role='list' class='project-skills'>
      {item.tech.map((tech) => <SkillIcon icon={tech.icon} colored={tech.colored} size='1.2' />)}
    </ul>
    {
      item.github && (
        <a href={item.github} target='_blank' class='github-link' aria-label='View on GitHub'>
          <i class='devicon-github-plain' style='font-size: 1.5em; color: var(--color-text-primary);'></i>
        </a>
      )
    }
  </div>
</li>

<style lang='scss'>
  .project {
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-2xl);
    overflow: hidden;
    transition: all var(--transition-normal);
    backdrop-filter: blur(10px);

    &:hover {
      transform: translateY(-8px);
      border-color: var(--color-accent-primary);
      box-shadow: var(--shadow-xl);
    }

    a:first-child {
      display: block;
      position: relative;
      overflow: hidden;

      img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform var(--transition-slow);
      }

      &:hover img {
        transform: scale(1.05);
      }

      &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, transparent 0%, rgba(99, 102, 241, 0.1) 100%);
        opacity: 0;
        transition: opacity var(--transition-normal);
      }

      &:hover::after {
        opacity: 1;
      }
    }

    .project-info {
      padding: var(--space-6);

      h3 {
        font-size: var(--font-size-lg);
        font-weight: var(--font-weight-semibold);
        margin-bottom: var(--space-3);
        color: var(--color-text-primary);
      }

      p {
        color: var(--color-text-secondary);
        font-size: var(--font-size-sm);
        line-height: 1.6;
        margin-bottom: var(--space-4);
      }

      .project-skills {
        display: flex;
        justify-content: center;
        gap: var(--space-2);
        margin-bottom: var(--space-4);
      }

      .github-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: var(--color-bg-tertiary);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        color: var(--color-text-primary);
        transition: all var(--transition-fast);
        box-shadow: var(--shadow-sm);

        &:hover {
          background: var(--color-accent-primary);
          border-color: var(--color-accent-primary);
          transform: scale(1.05);
          box-shadow: var(--shadow-md);
          color: var(--color-text-primary);
        }

        i {
          color: inherit;
        }
      }
    }
  }
</style>
