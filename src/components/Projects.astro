---
import data from '../data/site.json';
import ProjectItem from './ProjectItem.astro';

const { projects } = data;
---

<section id='projects'>
  <div class='container'>
    <div class='section-header'>
      <h2>projects</h2>
      <div class='section-description'>
        <p>recent projects showcasing my development skills</p>
      </div>
    </div>

    <div class='projects-list'>
      {projects.map((item) => <ProjectItem item={item} />)}
    </div>

    <div class='section-footer'>
      <p>
        more projects on 
        <a href='https://github.com/rrapstine' target='_blank' class='github-link'>
          <svg width='16' height='16' viewBox='0 0 24 24' fill='currentColor'>
            <path d='M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z'/>
          </svg>
          <span>github</span>
        </a>
      </p>
    </div>
  </div>
</section>

<style lang='scss'>
  #projects {
    padding: var(--space-20) var(--space-4);
  }

  .section-header {
    margin-bottom: var(--space-16);
    text-align: left;

    h2 {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-text-primary);
      margin-bottom: var(--space-4);
      display: inline-block;
      padding-bottom: var(--space-3);
      position: relative;
    }

    .section-description {
      p {
        font-size: var(--font-size-lg);
        color: var(--color-text-secondary);
        max-width: 600px;
      }
    }
  }

  .projects-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
    margin-bottom: var(--space-16);
  }

  .section-footer {
    text-align: center;

    p {
      color: var(--color-text-muted);
      font-size: var(--font-size-sm);
      margin: 0;
    }

    .github-link {
      display: inline-flex;
      align-items: center;
      gap: var(--space-2);
      color: var(--color-text-secondary);
      text-decoration: none;
      padding: var(--space-2) var(--space-4);
      border: 1px solid transparent;
      border-radius: var(--radius-md);
      transition: all var(--transition-fast);

      &:hover {
        color: var(--color-text-primary);
        background: rgba(83, 22, 156, 0.1); /* Darker Mauve with transparency */
        border: 1px solid var(--color-accent-primary);
      }

      &::after {
        display: none;
      }

      svg {
        transition: transform var(--transition-fast);
      }

      &:hover svg {
        transform: scale(1.1);
      }
    }
  }
</style>
