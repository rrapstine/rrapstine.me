---
export interface Props {
  title?: string;
  description?: string;
}

import data from '../data/site.json';

const { title = data.title, description = data.description } = Astro.props;

// Define font URLs - optimized for performance
const fontUrls = {
  combined: 'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:wght@400;700&display=swap'
};
---

<head>
  <meta charset='UTF-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <meta name='generator' content={Astro.generator} />
  <meta name='description' content={description} />
  <meta name='robots' content='index, follow' />
  <link rel='icon' type='image/svg+xml' href='/favicon.svg' />

  <title>{title}</title>

  <!-- Resource preconnect hints for faster loading -->
  <link rel='preconnect' href='https://fonts.googleapis.com' />
  <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
  <link rel='preconnect' href='https://cdn.jsdelivr.net' />

  <!-- Critical inline CSS to prevent FOUC -->
  <style>
    /* Critical above-the-fold CSS */
    :root {
      font-size: 16px;
      --font-family-primary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --font-family-accent: "Playfair Display", Georgia, serif;
      --color-bg-primary: #1e1e2e;
      --color-text-primary: #cdd6f4;
      --color-text-secondary: #bac2de;
      --color-accent-primary: #53169c;
    }
    
    *, *::before, *::after {
      box-sizing: border-box;
    }
    
    body {
      font-family: var(--font-family-primary);
      margin: 0;
      background: var(--color-bg-primary);
      color: var(--color-text-primary);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Prevent layout shift during font loading */
    .font-loading body {
      visibility: hidden;
    }
    
    .fonts-loaded body {
      visibility: visible;
    }
  </style>

  <!-- Font stylesheet - optimized loading -->
  <link
    rel='preload'
    href={fontUrls.combined}
    as='style'
    onload="this.onload=null;this.rel='stylesheet'"
  />
  <noscript>
    <link rel='stylesheet' href={fontUrls.combined} />
  </noscript>
</head>
